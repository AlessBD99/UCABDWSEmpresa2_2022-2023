@model ServiceDeskUCAB.Models.DTO.PrioridadDTO.PrioridadDTO;
<div>
    <h1>@ViewBag.Accion </h1>
    <hr />
</div>

@if (Context.Request.Query["message"].Count() > 0)
{
    <div class="alert alert-danger text-center alert-dismissible fade show p-3" role="alert">
        <p class="fs-6 m-0">@Context.Request.Query["message"]</p>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

<div class="container" style="margin-top:30px">
    <form asp-action="GuardarCambios" asp-controller="Prioridad" autocomplete="on" method="post">
        @{
            if (ViewBag.Accion == "Nueva Prioridad")
            {
                <input asp-for="@Model.Id" type="text" class="form-control d-none" id="recipient-name" value="@Guid.Empty">
            }
            else
            {
                <input asp-for="@Model.Id" type="text" class="form-control d-none" id="recipient-name">
            }
        }
        <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Nombre:</label>
            <input asp-for="@Model.nombre" type="text" class="form-control" id="recipient-name" maxlength="50" required />
        </div>
        <div class="mb-3">
            <label for="message-text" class="col-form-label">Descripción:</label>
            <textarea asp-for="@Model.descripcion" class="form-control" id="message-text" maxlength="100" required></textarea>
        </div>
        <div class="mb-3">
            <label for="recipient-name" class="col-form-label">Estado:</label>
            <select asp-for="estado" class="form-select">
                @if (@Model.estado == "Habilitado" || ViewBag.Accion == "Nueva Prioridad")
                {
                    <option selected value="Habilitado">Habilitado</option>
                    <option value="Deshabilitado">Deshabilitado</option>
                }
                else
                {
                    <option selected value="Deshabilitado">Deshabilitado</option>
                    <option value="Habilitado">Habilitado</option>

                }
            </select>
        </div>
        <div class="text-right" style="margin-top:30px">
            <a class="btn btn-danger" asp-action="Index" asp-controller="Prioridad">Cancelar</a>
            <button type="submit" class="btn btn-primary">Guardar cambios</button>
        </div>

    </form>
</div>
